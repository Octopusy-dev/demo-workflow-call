name: CI Demo with Workflow Output

on:
  workflow_dispatch:  # Permet un d√©clenchement manuel pour tester facilement

  
jobs:
  # Job qui appelle le workflow r√©utilisable
  call-demo:
    uses: ./.github/workflows/reusable.yml
    with:
      project-name: "DemoSansCode"  # Passage de l'input

  # Job qui r√©cup√®re l'output du workflow appel√©
  show-output:
    runs-on: ubuntu-latest
    needs: call-demo  # Attend la fin de call-demo
    steps:
      - name: Show workflow output
        run: |
          # R√©cup√©ration de l'output build-status du workflow r√©utilisable
          echo "üéØ Build status from reusable workflow: ${{ needs.call-demo.outputs.build-status }}"
